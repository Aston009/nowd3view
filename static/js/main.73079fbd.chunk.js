(this.webpackJsonprectangle=this.webpackJsonprectangle||[]).push([[0],{18:function(t,e,a){t.exports=a.p+"static/media/plus.cdc95f38.svg"},19:function(t,e,a){t.exports=a.p+"static/media/eye.8a4fc4d1.svg"},28:function(t,e,a){t.exports=a(34)},33:function(t,e,a){},34:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),o=a(17),l=a.n(o),i=a(11),c=a(2),d=(a(33),[{color:"#ff6364",text:"+9.60"},{color:"#ffa868",text:"+7.58"},{color:"#ffe672",text:"+6.78"},{color:"#d3ff84",text:"+5.83"},{color:"#96ff96",text:"+5.00"},{color:"#96ffd4",text:"+4.16"},{color:"#8ef3ff",text:"+3.21"},{color:"#7dd1ff",text:"+2.42"},{color:"#6999ff",text:"+1.55"},{color:"#5455ff",text:"+0.4"}]),m=function(t){var e=t.onChange,a=t.top,r=t.bottom,o=t.openGradientModal,l=function(t,n,o){var l,i,c=document.getElementById("colors").getBoundingClientRect().y;"top"===t?(l=Math.min(Math.round((n.pageY-c)/50),r-1),e(l<0?0:l,r,o)):(i=Math.max(Math.round((n.pageY-c)/50),a+1),e(a,i>d.length-1?d.length:i,o))};return n.a.createElement("div",{className:"colors",id:"colors"},n.a.createElement("button",{onClick:o},"\u0424\u0443\u043d\u043a\u0446\u0438\u044f"),n.a.createElement("h6",null,"Temperature"),n.a.createElement("div",{className:"hr top",draggable:"true",onDrag:function(t){return l("top",t)},onDragEnd:function(t){return l("top",t,!0)},style:{top:50*a}}),d.map((function(t,e){return n.a.createElement("div",{className:"color-item",style:{backgroundColor:t.color},id:e,key:e},n.a.createElement("span",null,t.text))})),n.a.createElement("div",{className:"hr bottom",draggable:"true",onDrag:function(t){return l("bottom",t)},onDragEnd:function(t){return l("bottom",t,!0)},style:{top:50*r}}))},s=function(t){var e=t.onClose,a=t.onSubmit,r=t.header,o=t.form;return n.a.createElement("div",{className:"modal"},n.a.createElement("button",{onClick:e,className:"close"},"\xd7"),n.a.createElement("form",null,n.a.createElement("h2",null,r,":"),o,n.a.createElement("button",{onClick:function(t){a(t),e()},type:"button",className:"submit"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")))},p=a(18),u=a.n(p),f=a(19),h=a.n(f),g=a(12),v=a(1),b=function(t,e,a){var r;"bottom-right"===e?r=t.append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","100%"):"bottom-left"===e?r=t.append("linearGradient").attr("id","gradient").attr("x1","100%").attr("y1","0%").attr("x2","0%").attr("y2","100%"):"top-right"===e?r=t.append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","100%").attr("x2","100%").attr("y2","0%"):"top-left"===e?r=t.append("linearGradient").attr("id","gradient").attr("x1","100%").attr("y1","100%").attr("x2","0%").attr("y2","0%"):"center"===e&&(r=t.append("radialGradient").attr("id","gradient")),a.reverse().forEach((function(t,e){return r.append("stop").attr("offset",100/a.length*(e+1)+"%").attr("stop-color",t.color).attr("stop-opacity",1)}))},w=function(t,e,a,r,n,o,l){var i=a/(window.prevZoom&&window.prevZoom.transform.k||1),c=r/(window.prevZoom&&window.prevZoom.transform.k||1);localStorage.setItem("rectParams",JSON.stringify([t,e,a,r,n,o])),v.f("#clipGradient").html("").append("rect").attr("x",i).attr("y",c).attr("width",n).attr("height",o),v.f("#rectsG").html("").append("g").attr("id",l).attr("class","rect");var d=v.f("#".concat(l)).append("g").attr("id","mainG");d.append("rect").attr("x",i).attr("y",c).attr("width",n).attr("height",o).attr("stroke-width",2).attr("stroke","black").attr("fill","none");for(var m=n/t,s=[],p=m;Math.round(p)<Math.round(n);p+=m)s.push(p),d.append("line").attr("x1",p+i).attr("y1",0+c).attr("x2",p+i).attr("y2",o+c).attr("stroke-width",2).attr("stroke","black");s.push(n);for(var u=o/e,f=[],h=u;Math.round(h)<Math.round(o);h+=u)f.push(h),d.append("line").attr("x1",0+i).attr("y1",h+c).attr("x2",n+i).attr("y2",h+c).attr("stroke-width",2).attr("stroke","black");f.push(o);for(var g=[[0,0,0,0]],b=0;b<s.length+f.length-1;b++){var w=void 0,y=void 0,E=void 0,x=void 0;b<=s.length-1?(w=s[b],E=0):(w=n,E=(b-s.length+1)*u),b<=f.length-1?(x=f[b],y=0):(x=o,y=(b-f.length+1)*m),g.push([w,E,y,x]),d.append("line").attr("x1",w+i).attr("y1",E+c).attr("x2",y+i).attr("y2",x+c).attr("stroke-width",2).attr("stroke","black")}for(var k=0;k<s.length+f.length-1;k++){var j=void 0,O=void 0,S=void 0,G=void 0;k<s.length-1?(j=s[k],S=0):(j=n,S=(k-s.length+1)*u),k<=f.length-1?(G=f[k],O=0):(G=o,O=(k-f.length+1)*m),d.append("line").attr("x1",j+i).attr("y1",S+c).attr("x2",O+i).attr("y2",G+c).attr("stroke-width",2).attr("stroke","black")}for(var C=0;C<s.length+f.length;C++){var Z=void 0,N=void 0,I=void 0,B=void 0;C<s.length-1?(Z=s[s.length-2-C],I=0):(Z=0,I=(C-s.length+1)*u),C<=f.length-1?(B=f[C],N=n):(B=o,N=n-(C-f.length+1)*m),d.append("line").attr("x1",Z+i).attr("y1",I+c).attr("x2",N+i).attr("y2",B+c).attr("stroke-width",2).attr("stroke","black")}},y=function(t){for(var e="",a=String(t),r=a.length-1;r>=0;r--)e=((a.length-r)%3===0?" ":"")+a[r]+e;return e},E=function(t,e){var a=v.g("#gradientG defs");a.select("#gradient").remove(),b(a,e,t)};var x=function(){var t=Object(r.useState)([0,d.length]),e=Object(c.a)(t,2),a=e[0],o=e[1],l=Object(r.useState)(!1),p=Object(c.a)(l,2),f=p[0],x=p[1],k=Object(r.useState)(!0),j=Object(c.a)(k,2),O=j[0],S=j[1],G=Object(r.useState)(!1),C=Object(c.a)(G,2),Z=C[0],N=C[1],I=Object(r.useState)([0,0]),B=Object(c.a)(I,2),D=B[0],M=B[1],z=Object(r.useState)("bottom-right"),F=Object(c.a)(z,2),J=F[0],P=F[1],R=Object(r.useState)(!1),Y=Object(c.a)(R,2),W=Y[0],X=Y[1],H=Object(r.useState)(null),T=Object(c.a)(H,2),$=T[0],q=T[1];return Object(r.useEffect)((function(){var t=function(t,e){var a=document.getElementById("canvas").getBoundingClientRect(),r=0,n=0,o=30,l=40,i=a.width-l-n,c=a.height+10-r-o,d=v.f("#canvas").append("svg").attr("width",i+l+n).attr("height",c+r+o).append("g").attr("transform","translate("+l+","+r+")"),m=v.e().range([c,0]).domain([0,c]),s=v.e().range([0,i]).domain([0,i]),p=v.b(m).tickSize(-a.width).ticks(5).tickFormat(y),u=d.append("g").call(p),f=v.a(s).tickSize(-a.height).ticks(10).tickFormat(y),h=d.append("g").attr("transform","translate(0, ".concat(c,")")).call(f);d.append("text").text("Y").attr("x",0-l).attr("y",c/2),d.append("text").text("X").attr("x",i/2).attr("y",c+o).style("text-anchor","middle");var w=v.f("#canvas").append("svg").attr("id","rects").attr("clip-path","url(#clip)"),E=w.append("g").attr("id","gradientG").attr("clip-path","url(#clipGradient)");E.append("rect").attr("width",1e4).attr("height",1e4).attr("x",-4800).attr("y",-4300).attr("fill","url(#gradient)");var x=E.append("defs");x.append("clipPath").attr("id","clipGradient"),b(x,e,t),w.append("defs").append("clipPath").attr("transform","translate(40, 0)").attr("id","clip").append("rect").attr("width",i).attr("height",c),w.append("g").attr("id","rectsG");var k=v.h().scaleExtent([.2,30]).translateExtent([[-5e3,-4300],[5200,5700]]).on("zoom",(function(){v.f("#rectsG").attr("transform",v.d.transform),v.f("#gradientG").attr("transform",v.d.transform),h.call(f.scale(v.d.transform.rescaleX(s))),u.call(p.scale(v.d.transform.rescaleY(m))),window.prevZoom=Object(g.a)({},v.d),localStorage.setItem("prevZoom",JSON.stringify(Object(g.a)({},v.d)))}));return v.f("#rects").call(k),[s,m]}(d.slice(a[0],a[1]),J);q(t);var e="rect"+Date.now(),r=JSON.parse(localStorage.getItem("rectParams")||"[]"),n=JSON.parse(localStorage.getItem("prevZoom")||"{}");if(n.transform&&(window.prevZoom=n),r.length)w.apply(void 0,Object(i.a)(r).concat([e]));else{var o=document.getElementById("canvas").getBoundingClientRect(),l=t[0].invert(window.innerWidth/2-150)-40-(window.prevZoom&&window.prevZoom.transform.x||0),c=o.height-60-t[1].invert(window.innerHeight/2-150)-(window.prevZoom&&window.prevZoom.transform.y||0);X(!1),w(3,3,l,c,300,300,e)}}),[]),Object(r.useEffect)((function(){if($&&$.length){var t=document.getElementById("canvas").getBoundingClientRect(),e=v.c().on("end",(function(){var e=$[0].invert(v.d.subject.x)-40-(window.prevZoom&&window.prevZoom.transform.x||0),a=t.height-60-$[1].invert(v.d.subject.y)-(window.prevZoom&&window.prevZoom.transform.y||0),r="rect"+Date.now();X(!1),w.apply(void 0,Object(i.a)(D).concat([e,a,(v.d.x-v.d.subject.x)/(window.prevZoom&&window.prevZoom.transform.k||1),(v.d.y-v.d.subject.y)/(window.prevZoom&&window.prevZoom.transform.k||1),r]))}));v.f("#overlay").call(e)}}),[$,D,J]),Object(r.useEffect)((function(){O?(v.g("#rectsG line").attr("stroke-width",2),v.g("#rectsG rect").attr("stroke-width",2)):(console.log("hide"),v.g("#rectsG line").attr("stroke-width",0),v.g("#rectsG rect").attr("stroke-width",0))}),[O]),n.a.createElement("main",null,n.a.createElement("button",{onClick:function(){return x(!0)},className:"edit"},n.a.createElement("img",{src:u.a,alt:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})),n.a.createElement("button",{onClick:function(){return S((function(t){return!t}))},className:"hide"},n.a.createElement("img",{src:h.a,alt:"\u0421\u043f\u0440\u044f\u0442\u0430\u0442\u044c \u043b\u0438\u043d\u0438\u0438"})),f&&n.a.createElement(s,{onClose:function(){return x(!1)},onSubmit:function(t){t.preventDefault(),X(!0);var e=new FormData(t.target.parentNode);M([parseInt(e.get("horizontal")),parseInt(e.get("vertical"))])},header:"\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a\u043e\u0432",form:n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("label",{htmlFor:"horizontal"},"\u041f\u043e \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438"),n.a.createElement("input",{type:"number",placeholder:"2",id:"horizontal",min:"1",name:"horizontal"})),n.a.createElement("li",null,n.a.createElement("label",{htmlFor:"vertical"},"\u041f\u043e \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438"),n.a.createElement("input",{type:"number",placeholder:"2",id:"vertical",min:"1",name:"vertical"})))}),Z&&n.a.createElement(s,{onClose:function(){return N(!1)},onSubmit:function(t){t.preventDefault();var e=new FormData(t.target.parentNode);P(e.get("direction")),E(d.slice(a[0],a[1]),e.get("direction"))},header:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0440\u0430\u0434\u0435\u043d\u0442\u0430",form:n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("input",{type:"radio",id:"bottom-right",name:"direction",value:"bottom-right",defaultChecked:"bottom-right"===J}),n.a.createElement("label",{for:"huey"},"-x+y")),n.a.createElement("li",null,n.a.createElement("input",{type:"radio",id:"top-right",name:"direction",value:"top-right",defaultChecked:"top-right"===J}),n.a.createElement("label",{for:"huey"},"-x-y")),n.a.createElement("li",null,n.a.createElement("input",{type:"radio",id:"top-left",name:"direction",value:"top-left",defaultChecked:"top-left"===J}),n.a.createElement("label",{for:"huey"},"x-y")),n.a.createElement("li",null,n.a.createElement("input",{type:"radio",id:"bottom-left",name:"direction",value:"bottom-left",defaultChecked:"bottom-left"===J}),n.a.createElement("label",{for:"huey"},"x+y")),n.a.createElement("li",null,n.a.createElement("input",{type:"radio",id:"center",name:"direction",value:"center",defaultChecked:"center"===J}),n.a.createElement("label",{for:"huey"},"x",n.a.createElement("sup",null,"2"),"+y",n.a.createElement("sup",null,"2"))))}),n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{id:"overlay",style:{display:W?"block":"none"}}),n.a.createElement("div",{className:"canvas",id:"canvas"})),n.a.createElement(m,{onChange:function(t,e,a){o([t,e]),E(d.slice(t,e),J)},top:a[0],bottom:a[1],openGradientModal:function(){return N(!0)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.73079fbd.chunk.js.map