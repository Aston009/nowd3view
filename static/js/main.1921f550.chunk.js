(this.webpackJsonprectangle=this.webpackJsonprectangle||[]).push([[0],{16:function(t,e,a){t.exports=a.p+"static/media/plus.cdc95f38.svg"},27:function(t,e,a){t.exports=a(33)},32:function(t,e,a){},33:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),o=a(15),l=a.n(o),i=a(17),c=a(2),d=(a(32),[{color:"#ff6364",text:"+9.6032e+0"},{color:"#ffa868",text:"+7.5794e+0"},{color:"#ffe672",text:"+6.7857e+0"},{color:"#d3ff84",text:"+5.8333e+0"},{color:"#96ff96",text:"+5.0000e+0"},{color:"#96ffd4",text:"+4.1667e+0"},{color:"#8ef3ff",text:"+3.2143e+0"},{color:"#7dd1ff",text:"+2.4206e+0"},{color:"#6999ff",text:"+1.5476e+0"},{color:"#5455ff",text:"+3.9683e-1"}]),m=function(t){var e=t.onChange,a=t.top,r=t.bottom,o=t.openGradientModal,l=function(t,n,o){var l,i,c=document.getElementById("colors").getBoundingClientRect().y;"top"===t?(l=Math.min(Math.round((n.pageY-c)/50),r-1),e(l<0?0:l,r,o)):(i=Math.max(Math.round((n.pageY-c)/50),a+1),e(a,i>d.length-1?d.length:i,o))};return n.a.createElement("div",{className:"colors",id:"colors"},n.a.createElement("button",{onClick:o},"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),n.a.createElement("h6",null,"Temperature"),n.a.createElement("div",{className:"hr top",draggable:"true",onDrag:function(t){return l("top",t)},onDragEnd:function(t){return l("top",t,!0)},style:{top:50*a}}),d.map((function(t,e){return n.a.createElement("div",{className:"color-item",style:{backgroundColor:t.color},id:e,key:e},n.a.createElement("span",null,t.text))})),n.a.createElement("div",{className:"hr bottom",draggable:"true",onDrag:function(t){return l("bottom",t)},onDragEnd:function(t){return l("bottom",t,!0)},style:{top:50*r}}))},s=function(t){var e=t.onClose,a=t.onSubmit,r=t.header,o=t.form;return n.a.createElement("div",{className:"modal"},n.a.createElement("button",{onClick:e,className:"close"},"\xd7"),n.a.createElement("form",null,n.a.createElement("h2",null,r,":"),o,n.a.createElement("button",{onClick:function(t){a(t),e()},type:"button",className:"submit"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")))},u=a(16),p=a.n(u),f=a(18),h=a(1),g=function(t,e,a){var r;"bottom-right"===e?r=t.append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","100%"):"bottom-left"===e?r=t.append("linearGradient").attr("id","gradient").attr("x1","100%").attr("y1","0%").attr("x2","0%").attr("y2","100%"):"top-right"===e?r=t.append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","100%").attr("x2","100%").attr("y2","0%"):"top-left"===e?r=t.append("linearGradient").attr("id","gradient").attr("x1","100%").attr("y1","100%").attr("x2","0%").attr("y2","0%"):"center"===e&&(r=t.append("radialGradient").attr("id","gradient")),a.reverse().forEach((function(t,e){return r.append("stop").attr("offset",100/a.length*(e+1)+"%").attr("stop-color",t.color).attr("stop-opacity",1)}))},v=function(t,e,a,r,n,o,l,i,c){var d=a/(window.prevZoom&&window.prevZoom.transform.k||1),m=r/(window.prevZoom&&window.prevZoom.transform.k||1);document.getElementById(i).innerHTML="";var s=h.f("#".concat(i)).append("g").attr("id","mainG"),u=s.append("defs");g(u,c,l),s.append("rect").attr("x",d).attr("y",m).attr("width",n).attr("height",o).attr("stroke-width",2).attr("stroke","black").style("fill","url(#gradient)");for(var p=n/t,f=[],v=p;Math.round(v)<Math.round(n);v+=p)f.push(v),s.append("line").attr("x1",v+d).attr("y1",0+m).attr("x2",v+d).attr("y2",o+m).attr("stroke-width",2).attr("stroke","black");f.push(n);for(var b=o/e,y=[],w=b;Math.round(w)<Math.round(o);w+=b)y.push(w),s.append("line").attr("x1",0+d).attr("y1",w+m).attr("x2",n+d).attr("y2",w+m).attr("stroke-width",2).attr("stroke","black");y.push(o);for(var E=[[0,0,0,0]],x=0;x<f.length+y.length-1;x++){var k=void 0,j=void 0,O=void 0,C=void 0;x<=f.length-1?(k=f[x],O=0):(k=n,O=(x-f.length+1)*b),x<=y.length-1?(C=y[x],j=0):(C=o,j=(x-y.length+1)*p),E.push([k,O,j,C]),s.append("line").attr("x1",k+d).attr("y1",O+m).attr("x2",j+d).attr("y2",C+m).attr("stroke-width",2).attr("stroke","black")}for(var Z=0;Z<f.length+y.length-1;Z++){var S=void 0,G=void 0,N=void 0,B=void 0;Z<f.length-1?(S=f[Z],N=0):(S=n,N=(Z-f.length+1)*b),Z<=y.length-1?(B=y[Z],G=0):(B=o,G=(Z-y.length+1)*p),s.append("line").attr("x1",S+d).attr("y1",N+m).attr("x2",G+d).attr("y2",B+m).attr("stroke-width",2).attr("stroke","black")}for(var M=0;M<f.length+y.length;M++){var D=void 0,I=void 0,z=void 0,F=void 0;M<f.length-1?(D=f[f.length-2-M],z=0):(D=0,z=(M-f.length+1)*b),M<=y.length-1?(F=y[M],I=n):(F=o,I=n-(M-y.length+1)*p),s.append("line").attr("x1",D+d).attr("y1",z+m).attr("x2",I+d).attr("y2",F+m).attr("stroke-width",2).attr("stroke","black")}},b=function(t){for(var e="",a=String(t),r=a.length-1;r>=0;r--)e=((a.length-r)%3===0?" ":"")+a[r]+e;return e},y=function(t,e){var a=h.g("#mainG defs");a.select("#gradient").remove(),g(a,e,t)};var w=function(){var t=Object(r.useState)([0,d.length]),e=Object(c.a)(t,2),a=e[0],o=e[1],l=Object(r.useState)(!1),u=Object(c.a)(l,2),g=u[0],w=u[1],E=Object(r.useState)(!1),x=Object(c.a)(E,2),k=x[0],j=x[1],O=Object(r.useState)(!1),C=Object(c.a)(O,2),Z=(C[0],C[1],Object(r.useState)([0,0])),S=Object(c.a)(Z,2),G=S[0],N=S[1],B=Object(r.useState)("bottom-right"),M=Object(c.a)(B,2),D=M[0],I=M[1],z=Object(r.useState)(!1),F=Object(c.a)(z,2),R=F[0],Y=F[1],W=Object(r.useState)(null),H=Object(c.a)(W,2),J=H[0],T=H[1];return Object(r.useEffect)((function(){var t=function(){var t=document.getElementById("canvas").getBoundingClientRect(),e=0,a=0,r=30,n=40,o=t.width-n-a,l=t.height+10-e-r,i=h.f("#canvas").append("svg").attr("width",o+n+a).attr("height",l+e+r).append("g").attr("transform","translate("+n+","+e+")"),c=h.e().range([l,0]).domain([0,l]),d=h.e().range([0,o]).domain([0,o]),m=h.b(c).tickSize(-t.width).ticks(5).tickFormat(b),s=i.append("g").call(m),u=h.a(d).tickSize(-t.height).ticks(10).tickFormat(b),p=i.append("g").attr("transform","translate(0, ".concat(l,")")).call(u);i.append("text").text("Y").attr("x",0-n).attr("y",l/2),i.append("text").text("X").attr("x",o/2).attr("y",l+r).style("text-anchor","middle"),h.f("#canvas").append("svg").attr("id","rects").append("g").attr("id","rectsG"),h.f("#rects").attr("clip-path","url(#clip)").append("defs").append("clipPath").attr("transform","translate(40, 0)").attr("id","clip").append("rect").attr("width",o).attr("height",l);var g=h.h().scaleExtent([.1,30]).translateExtent([[-50*o,-50*l],[50*o,50*l]]).on("zoom",(function(){h.f("#rectsG").attr("transform",h.d.transform),p.call(u.scale(h.d.transform.rescaleX(d))),s.call(m.scale(h.d.transform.rescaleY(c))),window.prevZoom=Object(f.a)({},h.d)}));return h.f("#rects").call(g),[d,c]}();T(t);var e=document.getElementById("canvas").getBoundingClientRect(),r="rect"+Date.now();h.f("#rectsG").append("g").attr("id",r).attr("class","rect");var n=t[0].invert(window.innerWidth/2-150)-40-(window.prevZoom&&window.prevZoom.transform.x||0),o=e.height-60-t[1].invert(window.innerHeight/2-150)-(window.prevZoom&&window.prevZoom.transform.y||0);Y(!1),v(3,3,n,o,300,300,d.slice(a[0],a[1]),r,D)}),[]),Object(r.useEffect)((function(){if(J&&J.length){var t=document.getElementById("canvas").getBoundingClientRect(),e=h.c().on("end",(function(){var e=J[0].invert(h.d.subject.x)-40-(window.prevZoom&&window.prevZoom.transform.x||0),r=t.height-60-J[1].invert(h.d.subject.y)-(window.prevZoom&&window.prevZoom.transform.y||0),n="rect"+Date.now();h.f("#rectsG").append("g").attr("id",n).attr("class","rect"),Y(!1),v.apply(void 0,Object(i.a)(G).concat([e,r,(h.d.x-h.d.subject.x)/(window.prevZoom&&window.prevZoom.transform.k||1),(h.d.y-h.d.subject.y)/(window.prevZoom&&window.prevZoom.transform.k||1),d.slice(a[0],a[1]),n,D]))}));h.f("#overlay").call(e)}}),[J,G,D]),n.a.createElement("main",null,n.a.createElement("button",{onClick:function(){return w(!0)},className:"edit"},n.a.createElement("img",{src:p.a,alt:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})),g&&n.a.createElement(s,{onClose:function(){return w(!1)},onSubmit:function(t){t.preventDefault(),Y(!0);var e=new FormData(t.target.parentNode);N([parseInt(e.get("horizontal")),parseInt(e.get("vertical"))])},header:"\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a\u043e\u0432",form:n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("label",{htmlFor:"horizontal"},"\u041f\u043e \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438"),n.a.createElement("input",{type:"number",placeholder:"2",id:"horizontal",min:"1",name:"horizontal"})),n.a.createElement("li",null,n.a.createElement("label",{htmlFor:"vertical"},"\u041f\u043e \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438"),n.a.createElement("input",{type:"number",placeholder:"2",id:"vertical",min:"1",name:"vertical"})))}),k&&n.a.createElement(s,{onClose:function(){return j(!1)},onSubmit:function(t){t.preventDefault();var e=new FormData(t.target.parentNode);I(e.get("direction")),y(d.slice(a[0],a[1]),e.get("direction"))},header:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0440\u0430\u0434\u0435\u043d\u0442\u0430",form:n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("input",{type:"radio",id:"bottom-right",name:"direction",value:"bottom-right",defaultChecked:"bottom-right"===D}),n.a.createElement("label",{for:"huey"},"-x+y")),n.a.createElement("li",null,n.a.createElement("input",{type:"radio",id:"top-right",name:"direction",value:"top-right",defaultChecked:"top-right"===D}),n.a.createElement("label",{for:"huey"},"-x-y")),n.a.createElement("li",null,n.a.createElement("input",{type:"radio",id:"top-left",name:"direction",value:"top-left",defaultChecked:"top-left"===D}),n.a.createElement("label",{for:"huey"},"x-y")),n.a.createElement("li",null,n.a.createElement("input",{type:"radio",id:"bottom-left",name:"direction",value:"bottom-left",defaultChecked:"bottom-left"===D}),n.a.createElement("label",{for:"huey"},"x+y")),n.a.createElement("li",null,n.a.createElement("input",{type:"radio",id:"center",name:"direction",value:"center",defaultChecked:"center"===D}),n.a.createElement("label",{for:"huey"},"x",n.a.createElement("sup",null,"2"),"+y",n.a.createElement("sup",null,"2"))))}),n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{id:"overlay",style:{display:R?"block":"none"}}),n.a.createElement("div",{className:"canvas",id:"canvas"})),n.a.createElement(m,{onChange:function(t,e,a){o([t,e]),y(d.slice(t,e),D)},top:a[0],bottom:a[1],openGradientModal:function(){return j(!0)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.1921f550.chunk.js.map